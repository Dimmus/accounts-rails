Connecting to database specified by database.yml
Connecting to database specified by database.yml
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (6.8ms)[0m  [1mINSERT INTO "dummy_users" ("created_at", "password_hash", "updated_at", "username") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 09 Apr 2014 18:47:17 UTC +00:00], ["password_hash", nil], ["updated_at", Wed, 09 Apr 2014 18:47:17 UTC +00:00], ["username", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (6.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "dummy_users" ("created_at", "password_hash", "updated_at", "username") VALUES (?, ?, ?, ?)  [["created_at", Wed, 09 Apr 2014 18:47:17 UTC +00:00], ["password_hash", nil], ["updated_at", Wed, 09 Apr 2014 18:47:17 UTC +00:00], ["username", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (6.7ms)[0m  [1mINSERT INTO "dummy_users" ("created_at", "password_hash", "updated_at", "username") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 09 Apr 2014 18:54:18 UTC +00:00], ["password_hash", nil], ["updated_at", Wed, 09 Apr 2014 18:54:18 UTC +00:00], ["username", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "dummy_users" ("created_at", "password_hash", "updated_at", "username") VALUES (?, ?, ?, ?)  [["created_at", Wed, 09 Apr 2014 18:54:18 UTC +00:00], ["password_hash", nil], ["updated_at", Wed, 09 Apr 2014 18:54:18 UTC +00:00], ["username", nil]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mDummyUser Load (0.2ms)[0m  SELECT "dummy_users".* FROM "dummy_users" WHERE "dummy_users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (7.2ms)[0m  [1mINSERT INTO "dummy_users" ("created_at", "password_hash", "updated_at", "username") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 09 Apr 2014 18:57:09 UTC +00:00], ["password_hash", nil], ["updated_at", Wed, 09 Apr 2014 18:57:09 UTC +00:00], ["username", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mDummyUser Load (0.1ms)[0m  [1mSELECT "dummy_users".* FROM "dummy_users" WHERE "dummy_users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "dummy_users" ("created_at", "password_hash", "updated_at", "username") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 09 Apr 2014 18:57:09 UTC +00:00], ["password_hash", nil], ["updated_at", Wed, 09 Apr 2014 18:57:09 UTC +00:00], ["username", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (2.5ms)[0m  [1mINSERT INTO "dummy_users" ("created_at", "password_hash", "updated_at", "username") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 09 Apr 2014 19:07:51 UTC +00:00], ["password_hash", nil], ["updated_at", Wed, 09 Apr 2014 19:07:51 UTC +00:00], ["username", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mDummyUser Load (0.1ms)[0m  [1mSELECT "dummy_users".* FROM "dummy_users" WHERE "dummy_users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "dummy_users" ("created_at", "password_hash", "updated_at", "username") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 09 Apr 2014 19:07:51 UTC +00:00], ["password_hash", nil], ["updated_at", Wed, 09 Apr 2014 19:07:51 UTC +00:00], ["username", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (2.5ms)[0m  [1mINSERT INTO "dummy_users" ("created_at", "password_hash", "updated_at", "username") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 09 Apr 2014 19:09:02 UTC +00:00], ["password_hash", nil], ["updated_at", Wed, 09 Apr 2014 19:09:02 UTC +00:00], ["username", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mDummyUser Load (0.1ms)[0m  [1mSELECT "dummy_users".* FROM "dummy_users" WHERE "dummy_users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "dummy_users" ("created_at", "password_hash", "updated_at", "username") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 09 Apr 2014 19:09:02 UTC +00:00], ["password_hash", nil], ["updated_at", Wed, 09 Apr 2014 19:09:02 UTC +00:00], ["username", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (2.4ms)[0m  [1mINSERT INTO "dummy_users" ("created_at", "password_hash", "updated_at", "username") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 09 Apr 2014 19:41:04 UTC +00:00], ["password_hash", nil], ["updated_at", Wed, 09 Apr 2014 19:41:04 UTC +00:00], ["username", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mDummyUser Load (0.1ms)[0m  [1mSELECT "dummy_users".* FROM "dummy_users" WHERE "dummy_users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "dummy_users" ("created_at", "password_hash", "updated_at", "username") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 09 Apr 2014 19:41:04 UTC +00:00], ["password_hash", nil], ["updated_at", Wed, 09 Apr 2014 19:41:04 UTC +00:00], ["username", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (2.5ms)[0m  [1mINSERT INTO "dummy_users" ("created_at", "password_hash", "updated_at", "username") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 09 Apr 2014 20:20:18 UTC +00:00], ["password_hash", nil], ["updated_at", Wed, 09 Apr 2014 20:20:18 UTC +00:00], ["username", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mDummyUser Load (0.1ms)[0m  [1mSELECT "dummy_users".* FROM "dummy_users" WHERE "dummy_users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "dummy_users" ("created_at", "password_hash", "updated_at", "username") VALUES (?, ?, ?, ?)[0m  [["created_at", Wed, 09 Apr 2014 20:20:18 UTC +00:00], ["password_hash", nil], ["updated_at", Wed, 09 Apr 2014 20:20:18 UTC +00:00], ["username", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (8.6ms)[0m  [1mINSERT INTO "dummy_users" ("created_at", "password_hash", "updated_at", "username") VALUES (?, ?, ?, ?)[0m  [["created_at", Thu, 10 Apr 2014 15:15:33 UTC +00:00], ["password_hash", nil], ["updated_at", Thu, 10 Apr 2014 15:15:33 UTC +00:00], ["username", nil]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mDummyUser Load (0.1ms)[0m  [1mSELECT "dummy_users".* FROM "dummy_users" WHERE "dummy_users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "dummy_users" ("created_at", "password_hash", "updated_at", "username") VALUES (?, ?, ?, ?)[0m  [["created_at", Thu, 10 Apr 2014 15:15:33 UTC +00:00], ["password_hash", nil], ["updated_at", Thu, 10 Apr 2014 15:15:33 UTC +00:00], ["username", nil]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (4.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (2.7ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (2.0ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (1.9ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Completed 500 Internal Server Error in 8ms
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (1.9ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (2.0ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 14ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (1.8ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 13ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (1.9ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 14ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (1.8ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 14ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (1.8ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 14ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (1.9ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 14ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>nil}
Completed 404 Not Found in 0ms
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (2.0ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 14ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>nil}
Completed 404 Not Found in 0ms
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (1.8ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 14ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>nil}
Completed 404 Not Found in 0ms
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (1.8ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 14ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>nil}
Completed 404 Not Found in 0ms
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (2.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (2.8ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 16:37:00 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 16:37:00 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 14ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 16:37:00 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 16:37:00 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 16:37:00 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 16:37:00 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.2ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (1.8ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 16:55:40 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 16:55:40 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 16:55:40 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 16:55:40 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.1ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 45ms (ActiveRecord: 0.1ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.2ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 16:55:40 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 16:55:40 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 16:55:40 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 16:55:40 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 16:55:40 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 16:55:40 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 16:55:40 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 16:55:40 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (1.8ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 16:56:12 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 16:56:12 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.2ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 41ms (ActiveRecord: 0.2ms)
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.2ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 16:56:12 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 16:56:12 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 16:56:12 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 16:56:12 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 16:56:12 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 16:56:12 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 16:56:12 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 16:56:12 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 16:56:12 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 16:56:12 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (1.9ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (2.8ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 18:58:25 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 18:58:25 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 42ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 18:58:25 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 18:58:25 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 18:58:25 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 18:58:25 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 18:58:25 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 18:58:25 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.1ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 18:58:25 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 18:58:25 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 18:58:25 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 18:58:25 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (1.8ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 18:59:13 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 18:59:13 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 18:59:13 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 18:59:13 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 18:59:13 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 18:59:13 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 53ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 18:59:13 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 18:59:13 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.1ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 18:59:13 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 18:59:13 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 18:59:13 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 18:59:13 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (2.0ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (2.0ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 18:59:51 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 18:59:51 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 18:59:51 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 18:59:51 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 18:59:51 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 18:59:51 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 53ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 18:59:51 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 18:59:51 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.1ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 18:59:51 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 18:59:51 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 18:59:51 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 18:59:51 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (1.9ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (2.0ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:00:05 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:00:05 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:00:05 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:00:05 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:00:05 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:00:05 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 49ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:00:05 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:00:05 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.1ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:00:05 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:00:05 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:00:05 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:00:05 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (1.8ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:00:28 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:00:28 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:00:29 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:00:29 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:00:29 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:00:29 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.1ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 9ms (ActiveRecord: 0.1ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:00:29 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:00:29 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:00:29 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:00:29 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:00:29 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:00:29 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (1.8ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:01:52 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:01:52 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.1ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 38ms (ActiveRecord: 0.1ms)
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.2ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:01:52 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:01:52 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:01:52 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:01:52 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:01:52 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:01:52 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 19:01:52 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:01:52 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.2ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 19:01:54 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:01:54 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (2.7ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (1.8ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:05:24 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:05:24 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.2ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 39ms (ActiveRecord: 0.2ms)
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.2ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:05:24 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:05:24 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:05:24 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:05:24 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:05:24 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:05:24 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 19:05:24 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:05:24 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.2ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 19:05:25 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:05:25 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (1.9ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:11:00 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:11:00 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:11:00 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:11:00 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 53ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:11:00 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:11:00 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:11:00 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:11:00 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.1ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 19:11:00 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:11:00 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.2ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 19:11:00 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:11:00 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (1.8ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (1.9ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:12:10 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:12:10 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:12:10 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:12:10 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.1ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 44ms (ActiveRecord: 0.1ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.2ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:12:10 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:12:10 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:12:10 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:12:10 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 19:12:10 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:12:10 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.2ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 19:12:10 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:12:10 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (1.8ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 19:12:28 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:12:28 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 19:12:29 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:12:29 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:12:29 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:12:29 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:12:29 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:12:29 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:12:29 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:12:29 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 14ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:12:29 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:12:29 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.1ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (1.8ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:23:17 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:23:17 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/auth/openstax
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:23:17 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:23:17 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:23:17 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:23:17 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:23:17 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:23:17 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 19:23:17 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:23:17 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 19:23:17 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:23:17 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (1.8ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:23:38 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:23:38 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/auth/openstax
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:23:38 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:23:38 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.1ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 44ms (ActiveRecord: 0.1ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.2ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:23:39 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:23:39 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Completed 500 Internal Server Error in 3ms
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:23:39 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:23:39 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 19:23:39 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:23:39 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 19:23:39 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:23:39 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (1.9ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 19:24:50 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:24:50 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 19:24:50 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:24:50 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:24:50 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:24:50 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.2ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 8ms (ActiveRecord: 0.2ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:24:50 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:24:50 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Completed 500 Internal Server Error in 3ms
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:24:50 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:24:50 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:24:50 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:24:50 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/auth/openstax
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (2.6ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (1.8ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:26:21 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:26:21 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:26:22 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:26:22 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:26:22 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:26:22 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 48ms (ActiveRecord: 0.0ms)
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:26:22 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:26:22 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.1ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 19:26:22 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:26:22 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 19:26:22 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:26:22 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (1.9ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:27:03 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:27:03 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:27:03 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:27:03 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.2ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 42ms (ActiveRecord: 0.2ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:27:03 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:27:03 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (2.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:27:03 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:27:03 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 19:27:03 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:27:03 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 19:27:03 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:27:03 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (2.0ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:41:42 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:41:42 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:41:42 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:41:42 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.1ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 9ms (ActiveRecord: 0.1ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:41:42 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:41:42 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:41:42 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:41:42 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 19:41:42 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:41:42 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 19:41:42 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:41:42 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (2.2ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 19:42:55 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:42:55 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 19:42:55 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:42:55 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:42:55 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:42:55 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.2ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 9ms (ActiveRecord: 0.2ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:42:55 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:42:55 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:42:55 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:42:55 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:42:55 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:42:55 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (1.9ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:51:41 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:51:41 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:51:41 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:51:41 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 14ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:51:41 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:51:41 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 19:51:42 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:51:42 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.1ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 19:51:42 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:51:42 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 19:51:42 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 19:51:42 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (3.0ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (1.9ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 20:12:08 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:12:08 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 20:12:08 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:12:08 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:12:08 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:12:08 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.1ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 14ms (ActiveRecord: 0.1ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:12:08 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:12:08 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.2ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:12:08 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:12:08 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:12:08 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:12:08 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (1.9ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 20:14:06 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:14:06 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 20:14:06 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:14:06 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:14:06 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:14:06 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:14:06 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:14:06 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:14:06 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:14:06 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:14:06 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:14:06 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.2ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (2.0ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 20:15:43 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:15:43 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 20:15:43 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:15:43 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:15:43 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:15:43 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.2ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 8ms (ActiveRecord: 0.2ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:15:43 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:15:43 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:15:43 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:15:43 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:15:43 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:15:43 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (1.9ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 20:15:56 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:15:56 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 20:15:56 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:15:56 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:15:56 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:15:56 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.1ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 9ms (ActiveRecord: 0.1ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.2ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:15:56 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:15:56 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:15:56 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:15:56 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:15:56 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:15:56 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (2.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 20:17:07 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:17:07 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 20:17:07 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:17:07 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:17:07 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:17:07 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:17:07 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:17:07 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:17:07 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:17:07 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.1ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 9ms (ActiveRecord: 0.1ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:17:07 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:17:07 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (2.0ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 20:18:30 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:18:30 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 20:18:30 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:18:30 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:18:30 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:18:30 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.1ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 9ms (ActiveRecord: 0.1ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:18:30 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:18:30 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:18:30 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:18:30 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:18:30 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:18:30 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (1.9ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:18:54 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:18:54 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:18:54 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:18:54 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.2ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 9ms (ActiveRecord: 0.2ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:18:54 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:18:54 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:18:54 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:18:54 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 20:18:54 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:18:54 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 20:18:54 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:18:54 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (2.0ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 20:19:14 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:19:14 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 20:19:14 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:19:14 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:19:14 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:19:14 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.1ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 10ms (ActiveRecord: 0.1ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:19:14 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:19:14 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:19:14 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:19:14 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:19:14 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:19:14 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (2.0ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 20:29:24 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:29:24 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 20:29:24 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:29:24 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:29:24 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:29:24 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 15ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:29:24 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:29:24 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:29:24 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:29:24 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.1ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:29:24 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:29:24 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (1.9ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:29:44 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:29:44 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:29:44 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:29:44 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:29:44 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:29:44 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 14ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:29:44 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:29:44 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.1ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 20:29:44 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:29:44 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 20:29:44 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:29:44 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (2.0ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:30:41 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:30:41 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:30:41 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:30:41 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:30:41 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:30:41 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.2ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 9ms (ActiveRecord: 0.2ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:30:41 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:30:41 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 20:30:41 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:30:41 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 20:30:41 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:30:41 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (2.0ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:31:24 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:31:24 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:31:25 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:31:25 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:31:25 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:31:25 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.1ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 9ms (ActiveRecord: 0.1ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:31:25 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:31:25 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 20:31:25 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:31:25 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 20:31:25 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:31:25 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (2.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (2.1ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:36:57 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:36:57 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 14ms (ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:36:57 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:36:57 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:36:57 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:36:57 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:36:57 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:36:57 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.1ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 20:36:57 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:36:57 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 20:36:57 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:36:57 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (2.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:37:28 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:37:28 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:37:28 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:37:28 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.1ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 9ms (ActiveRecord: 0.1ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:37:28 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:37:28 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:37:28 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:37:28 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 20:37:28 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:37:28 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 20:37:28 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:37:28 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (2.0ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 20:39:42 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:39:42 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/application_users" for 127.0.0.1 at 2014-04-11 15:39:42 -0500
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 20:39:42 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:39:42 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/dummy" for 127.0.0.1 at 2014-04-11 15:39:42 -0500
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:39:42 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:39:42 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.1ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 6ms (ActiveRecord: 0.1ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:39:42 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:39:42 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:39:42 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:39:42 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:39:42 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:39:42 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (1.9ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 20:43:16 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:43:16 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/dummy" for 127.0.0.1 at 2014-04-11 15:43:16 -0500
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 20:43:16 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:43:16 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/application_users" for 127.0.0.1 at 2014-04-11 15:43:16 -0500
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:43:16 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:43:16 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.2ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 5ms (ActiveRecord: 0.2ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:43:16 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:43:16 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:43:16 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:43:16 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:43:16 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:43:16 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (2.0ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:43:42 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:43:42 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:43:42 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:43:42 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:43:42 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:43:42 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.2ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 9ms (ActiveRecord: 0.2ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:43:42 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:43:42 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 20:43:42 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:43:42 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/api/dummy" for 127.0.0.1 at 2014-04-11 15:43:42 -0500
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 20:43:42 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:43:42 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/api/application_users" for 127.0.0.1 at 2014-04-11 15:43:42 -0500
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (2.3ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (2.4ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:44:35 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:44:35 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.2ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 9ms (ActiveRecord: 0.2ms)
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.2ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:44:35 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:44:35 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:44:35 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:44:35 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:44:35 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:44:35 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 20:44:35 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:44:35 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/api/dummy" for 127.0.0.1 at 2014-04-11 15:44:35 -0500
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 20:44:35 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:44:35 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/api/application_users" for 127.0.0.1 at 2014-04-11 15:44:35 -0500
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (1.9ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 20:45:03 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:45:03 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/dummy" for 127.0.0.1 at 2014-04-11 15:45:03 -0500
Processing by Api::DummyController#dummy as */*
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 20:45:03 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:45:03 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/application_users" for 127.0.0.1 at 2014-04-11 15:45:03 -0500
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:45:03 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:45:03 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.1ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 5ms (ActiveRecord: 0.1ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:45:03 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:45:03 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:45:03 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:45:03 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:45:03 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:45:03 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (2.0ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:45:20 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:45:20 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:45:20 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:45:20 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:45:20 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:45:20 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.1ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 9ms (ActiveRecord: 0.1ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:45:20 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:45:20 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 20:45:20 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:45:20 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/api/dummy" for 127.0.0.1 at 2014-04-11 15:45:20 -0500
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 20:45:20 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:45:20 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/api/application_users" for 127.0.0.1 at 2014-04-11 15:45:20 -0500
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (1.9ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (2.0ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:48:49 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:48:49 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:48:49 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:48:49 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.1ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 9ms (ActiveRecord: 0.1ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:48:49 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:48:49 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:48:49 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:48:49 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 20:48:49 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:48:49 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/api/dummy" for 127.0.0.1 at 2014-04-11 15:48:49 -0500
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 20:48:49 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:48:49 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/api/application_users" for 127.0.0.1 at 2014-04-11 15:48:49 -0500
Processing by Api::ApplicationUsersController#create as application/vnd.accounts.openstax.v1
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (2.0ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:49:26 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:49:26 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:49:26 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:49:26 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:49:26 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:49:26 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 14ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:49:26 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:49:26 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.1ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.2ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 20:49:26 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:49:26 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/api/dummy" for 127.0.0.1 at 2014-04-11 15:49:26 -0500
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 20:49:26 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:49:26 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/api/application_users" for 127.0.0.1 at 2014-04-11 15:49:26 -0500
Processing by Api::ApplicationUsersController#create as application/vnd.accounts.openstax.v1
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (2.0ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:49:55 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:49:55 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:49:55 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:49:55 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:49:55 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:49:55 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 15ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:49:55 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:49:55 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.1ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 20:49:55 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:49:55 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/api/dummy" for 127.0.0.1 at 2014-04-11 15:49:55 -0500
Processing by Api::DummyController#dummy as */*
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 20:49:55 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:49:55 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/api/application_users" for 127.0.0.1 at 2014-04-11 15:49:55 -0500
Processing by Api::ApplicationUsersController#create as application/vnd.accounts.openstax.v1
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (2.0ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (2.1ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:52:24 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:52:24 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:52:24 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:52:24 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.1ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 10ms (ActiveRecord: 0.1ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:52:24 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:52:24 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:52:24 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:52:24 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.2ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 20:52:24 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:52:24 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/api/dummy" for 127.0.0.1 at 2014-04-11 15:52:25 -0500
Processing by Api::DummyController#dummy as */*
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 20:52:25 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:52:25 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/api/application_users" for 127.0.0.1 at 2014-04-11 15:52:25 -0500
Processing by Api::ApplicationUsersController#create as application/vnd.accounts.openstax.v1
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (2.0ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 20:54:54 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:54:54 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/application_users" for 127.0.0.1 at 2014-04-11 15:54:54 -0500
Processing by Api::ApplicationUsersController#create as application/vnd.accounts.openstax.v1
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 20:54:54 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:54:54 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/dummy" for 127.0.0.1 at 2014-04-11 15:54:54 -0500
Processing by Api::DummyController#dummy as */*
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:54:54 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:54:54 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:54:54 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:54:54 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.1ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:54:54 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:54:54 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:54:54 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:54:54 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (2.0ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:57:57 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:57:57 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:57:57 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:57:57 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.1ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 9ms (ActiveRecord: 0.1ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:57:57 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:57:57 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:57:57 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:57:57 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 20:57:57 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:57:57 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 20:57:57 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:57:57 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (1.9ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:59:29 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:59:29 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:59:29 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:59:29 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 15ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:59:29 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:59:29 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.1ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 20:59:29 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:59:29 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 20:59:29 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:59:29 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/api/dummy" for 127.0.0.1 at 2014-04-11 15:59:29 -0500
Processing by Api::DummyController#dummy as */*
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 20:59:29 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 20:59:29 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/api/application_users" for 127.0.0.1 at 2014-04-11 15:59:29 -0500
Processing by Api::ApplicationUsersController#create as application/vnd.accounts.openstax.v1
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (2.0ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (1.9ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:00:06 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:00:06 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:00:06 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:00:06 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:00:06 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:00:06 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 14ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:00:06 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:00:06 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.1ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 21:00:06 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:00:06 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/api/dummy" for 127.0.0.1 at 2014-04-11 16:00:06 -0500
Processing by Api::DummyController#dummy as */*
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 21:00:06 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:00:06 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (1.9ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:00:46 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:00:46 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:00:46 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:00:46 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.1ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 8ms (ActiveRecord: 0.1ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:00:46 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:00:46 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:00:46 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:00:46 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 21:00:46 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:00:46 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/api/dummy" for 127.0.0.1 at 2014-04-11 16:00:46 -0500
Processing by Api::DummyController#dummy as */*
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 21:00:46 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:00:46 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (2.0ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (2.1ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 21:01:21 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:01:21 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/dummy" for 127.0.0.1 at 2014-04-11 16:01:21 -0500
Processing by Api::DummyController#dummy as */*
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 21:01:21 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:01:21 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:01:21 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:01:21 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:01:21 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:01:21 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:01:21 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:01:21 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.2ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 6ms (ActiveRecord: 0.2ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:01:21 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:01:21 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (1.9ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 21:02:35 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:02:35 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/application_users" for 127.0.0.1 at 2014-04-11 16:02:36 -0500
Processing by Api::ApplicationUsersController#create as application/vnd.accounts.openstax.v1
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 21:02:36 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:02:36 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/dummy" for 127.0.0.1 at 2014-04-11 16:02:36 -0500
Processing by Api::DummyController#dummy as */*
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:02:36 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:02:36 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:02:36 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:02:36 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:02:36 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:02:36 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:02:36 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:02:36 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.1ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (1.9ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:04:00 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:04:00 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:04:00 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:04:00 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 14ms (ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:04:01 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:04:01 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:04:01 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:04:01 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.1ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 21:04:01 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:04:01 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/api/dummy?test=true" for 127.0.0.1 at 2014-04-11 16:04:01 -0500
Processing by Api::DummyController#dummy as */*
  Parameters: {"test"=>"true"}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.2ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 21:04:01 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:04:01 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (2.0ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 21:04:26 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:04:26 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/dummy?test=true" for 127.0.0.1 at 2014-04-11 16:04:27 -0500
Processing by Api::DummyController#dummy as */*
  Parameters: {"test"=>"true"}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 21:04:27 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:04:27 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:04:27 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:04:27 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:04:27 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:04:27 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:04:27 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:04:27 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:04:27 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:04:27 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.1ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (2.0ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:07:57 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:07:57 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:07:57 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:07:57 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:07:57 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:07:57 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.1ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 8ms (ActiveRecord: 0.1ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.2ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:07:57 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:07:57 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 21:07:57 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:07:57 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/api/dummy?test=true" for 127.0.0.1 at 2014-04-11 16:07:57 -0500
Processing by Api::DummyController#dummy as */*
  Parameters: {"test"=>"true"}
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 21:07:57 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:07:57 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/api/application_users" for 127.0.0.1 at 2014-04-11 16:07:57 -0500
Processing by Api::ApplicationUsersController#create as application/vnd.accounts.openstax.v1
Completed 500 Internal Server Error in 1ms
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (2.0ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:08:19 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:08:19 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:08:19 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:08:19 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (1.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:08:19 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:08:19 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.1ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:08:19 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:08:19 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 21:08:19 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:08:19 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/api/application_users" for 127.0.0.1 at 2014-04-11 16:08:19 -0500
Processing by Api::ApplicationUsersController#create as application/vnd.accounts.openstax.v1
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 21:08:19 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:08:19 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/api/dummy?test=true" for 127.0.0.1 at 2014-04-11 16:08:19 -0500
Processing by Api::DummyController#dummy as */*
  Parameters: {"test"=>"true"}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (1.9ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 21:08:43 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:08:43 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/dummy?test=true" for 127.0.0.1 at 2014-04-11 16:08:43 -0500
Processing by Api::DummyController#dummy as */*
  Parameters: {"test"=>"true"}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 21:08:43 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:08:43 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/application_users" for 127.0.0.1 at 2014-04-11 16:08:43 -0500
Processing by Api::ApplicationUsersController#create as application/vnd.accounts.openstax.v1
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:08:43 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:08:43 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.1ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 5ms (ActiveRecord: 0.1ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:08:43 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:08:43 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:08:43 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:08:43 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:08:43 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:08:43 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (2.0ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 21:09:28 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:09:28 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/dummy?test=true" for 127.0.0.1 at 2014-04-11 16:09:28 -0500
Processing by Api::DummyController#dummy as */*
  Parameters: {"test"=>"true"}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 21:09:28 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:09:28 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/application_users" for 127.0.0.1 at 2014-04-11 16:09:28 -0500
Processing by Api::ApplicationUsersController#create as application/vnd.accounts.openstax.v1
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:09:28 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:09:28 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:09:28 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:09:28 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:09:28 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:09:28 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:09:28 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:09:28 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.1ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (2.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:17:01 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:17:01 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:17:01 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:17:01 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:17:01 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:17:01 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 14ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:17:01 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:17:01 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.1ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 21:17:01 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:17:01 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/api/dummy?test=true" for 127.0.0.1 at 2014-04-11 16:17:01 -0500
Processing by Api::DummyController#dummy as */*
  Parameters: {"test"=>"true"}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 21:17:01 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:17:01 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/api/application_users" for 127.0.0.1 at 2014-04-11 16:17:01 -0500
Processing by Api::ApplicationUsersController#create as application/vnd.accounts.openstax.v1
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (2.0ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 21:20:01 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:20:01 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/application_users" for 127.0.0.1 at 2014-04-11 16:20:01 -0500
Processing by Api::ApplicationUsersController#create as application/vnd.accounts.openstax.v1
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 21:20:01 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:20:01 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/dummy?test=true" for 127.0.0.1 at 2014-04-11 16:20:01 -0500
Processing by Api::DummyController#dummy as */*
  Parameters: {"test"=>"true"}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:20:01 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:20:01 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.1ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 5ms (ActiveRecord: 0.1ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:20:01 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:20:01 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:20:01 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:20:01 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:20:01 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:20:01 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (2.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:21:10 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:21:10 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.1ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 9ms (ActiveRecord: 0.1ms)
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:21:10 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:21:10 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:21:10 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:21:10 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:21:10 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:21:10 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.2ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 21:21:10 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:21:10 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/api/dummy?test=true" for 127.0.0.1 at 2014-04-11 16:21:10 -0500
Processing by Api::DummyController#dummy as */*
  Parameters: {"test"=>"true"}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 21:21:10 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:21:10 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/api/application_users" for 127.0.0.1 at 2014-04-11 16:21:10 -0500
Processing by Api::ApplicationUsersController#create as application/vnd.accounts.openstax.v1
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (2.0ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 21:22:28 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:22:28 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/dummy?test=true" for 127.0.0.1 at 2014-04-11 16:22:28 -0500
Processing by Api::DummyController#dummy as */*
  Parameters: {"test"=>"true"}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 21:22:28 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:22:28 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/application_users" for 127.0.0.1 at 2014-04-11 16:22:28 -0500
Processing by Api::ApplicationUsersController#create as application/vnd.accounts.openstax.v1
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:22:28 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:22:28 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:22:28 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:22:28 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 16ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:22:28 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:22:28 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:22:28 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:22:28 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.1ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (2.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (1.9ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 21:50:30 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:50:30 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/dummy?test=true" for 127.0.0.1 at 2014-04-11 16:50:30 -0500
Processing by Api::DummyController#dummy as */*
  Parameters: {"test"=>"true"}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 21:50:30 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:50:30 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/application_users" for 127.0.0.1 at 2014-04-11 16:50:30 -0500
Processing by Api::ApplicationUsersController#create as application/vnd.accounts.openstax.v1
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:50:30 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:50:30 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.2ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 7ms (ActiveRecord: 0.2ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:50:30 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:50:30 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:50:30 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:50:30 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 21:50:30 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 21:50:30 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (2.2ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 22:03:38 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 22:03:38 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 22:03:38 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 22:03:38 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.2ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 10.5ms (ActiveRecord: 0.2ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 22:03:38 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 22:03:38 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 0.6ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 22:03:38 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 22:03:38 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0.4ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 22:03:38 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 22:03:38 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/api/application_users" for 127.0.0.1 at 2014-04-11 17:03:38 -0500
Processing by Api::ApplicationUsersController#create as application/vnd.accounts.openstax.v1
Completed 200 OK in 3.8ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 22:03:38 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 22:03:38 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/api/dummy?test=true" for 127.0.0.1 at 2014-04-11 17:03:38 -0500
Processing by Api::DummyController#dummy as */*
  Parameters: {"test"=>"true"}
Completed 200 OK in 0.5ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (2.0ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (2.0ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 22:05:19 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 22:05:19 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0.4ms (ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 22:05:19 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 22:05:19 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 14.3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 22:05:19 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 22:05:19 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 22:05:19 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 22:05:19 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.1ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 2.1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 22:05:19 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 22:05:19 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/api/dummy?test=true" for 127.0.0.1 at 2014-04-11 17:05:19 -0500
Processing by Api::DummyController#dummy as */*
  Parameters: {"test"=>"true"}
Completed 200 OK in 3.7ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Connect::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 22:05:19 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 22:05:19 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/api/application_users" for 127.0.0.1 at 2014-04-11 17:05:19 -0500
Processing by Api::ApplicationUsersController#create as application/vnd.accounts.openstax.v1
Completed 200 OK in 0.6ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (2.0ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 22:11:13 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 22:11:13 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/dummy?test=true" for 127.0.0.1 at 2014-04-11 17:11:13 -0500
Processing by Api::DummyController#dummy as */*
  Parameters: {"test"=>"true"}
Completed 200 OK in 0.6ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", "secret"], ["created_at", Fri, 11 Apr 2014 22:11:13 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 22:11:13 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/application_users" for 127.0.0.1 at 2014-04-11 17:11:13 -0500
Processing by Api::ApplicationUsersController#create as application/vnd.accounts.openstax.v1
Completed 200 OK in 0.6ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 22:11:13 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 22:11:13 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 3.4ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 22:11:13 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 22:11:13 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 22:11:13 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 22:11:13 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0.4ms (ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Fri, 11 Apr 2014 22:11:13 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Fri, 11 Apr 2014 22:11:13 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.2ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 2.5ms (ActiveRecord: 0.2ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
Connecting to database specified by database.yml
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (2.4ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (3.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Mon, 14 Apr 2014 21:28:52 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Mon, 14 Apr 2014 21:28:52 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0.6ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Mon, 14 Apr 2014 21:28:52 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Mon, 14 Apr 2014 21:28:52 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 15.4ms (ActiveRecord: 0.0ms)
  [1m[35m (3.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Mon, 14 Apr 2014 21:28:52 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Mon, 14 Apr 2014 21:28:52 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Mon, 14 Apr 2014 21:28:52 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Mon, 14 Apr 2014 21:28:52 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", "secret"], ["created_at", Mon, 14 Apr 2014 21:28:52 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Mon, 14 Apr 2014 21:28:52 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", "secret"], ["created_at", Mon, 14 Apr 2014 21:28:52 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Mon, 14 Apr 2014 21:28:52 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (2.0ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Mon, 14 Apr 2014 21:31:54 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Mon, 14 Apr 2014 21:31:54 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0.4ms (ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Mon, 14 Apr 2014 21:31:54 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Mon, 14 Apr 2014 21:31:54 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Mon, 14 Apr 2014 21:31:54 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Mon, 14 Apr 2014 21:31:54 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 13.8ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", "secret"], ["created_at", Mon, 14 Apr 2014 21:31:54 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Mon, 14 Apr 2014 21:31:54 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/application_users" for 127.0.0.1 at 2014-04-14 16:31:54 -0500
Processing by Api::ApplicationUsersController#create as application/vnd.accounts.openstax.v1
Completed 200 OK in 0.6ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", "secret"], ["created_at", Mon, 14 Apr 2014 21:31:54 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Mon, 14 Apr 2014 21:31:54 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/oauth/token" for 127.0.0.1 at 2014-04-14 16:31:54 -0500
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Mon, 14 Apr 2014 21:31:54 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Mon, 14 Apr 2014 21:31:54 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::Dev::UsersController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.1ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 5.3ms (ActiveRecord: 0.1ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (1.9ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", "secret"], ["created_at", Mon, 14 Apr 2014 21:33:26 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Mon, 14 Apr 2014 21:33:26 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/dummy?test=true" for 127.0.0.1 at 2014-04-14 16:33:26 -0500
Processing by Api::DummyController#dummy as */*
  Parameters: {"test"=>"true"}
Completed 200 OK in 0.6ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", "secret"], ["created_at", Mon, 14 Apr 2014 21:33:26 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Mon, 14 Apr 2014 21:33:26 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/application_users" for 127.0.0.1 at 2014-04-14 16:33:26 -0500
Processing by Api::ApplicationUsersController#create as application/vnd.accounts.openstax.v1
Completed 200 OK in 0.5ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Mon, 14 Apr 2014 21:33:26 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Mon, 14 Apr 2014 21:33:26 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Mon, 14 Apr 2014 21:33:26 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Mon, 14 Apr 2014 21:33:26 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#new as HTML
Redirected to http://test.host/connect/dev/users/login
Completed 302 Found in 0.4ms (ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Mon, 14 Apr 2014 21:33:26 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Mon, 14 Apr 2014 21:33:26 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 14.4ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Connect::User Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "openstax_connect_users" WHERE "openstax_connect_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "openstax_connect_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Mon, 14 Apr 2014 21:33:26 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Mon, 14 Apr 2014 21:33:26 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Connect::Dev::UsersController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Connect::User Load (0.1ms)[0m  SELECT "openstax_connect_users".* FROM "openstax_connect_users" WHERE "openstax_connect_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 2.3ms (ActiveRecord: 0.1ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
