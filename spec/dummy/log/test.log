Connecting to database specified by database.yml
Connecting to database specified by database.yml
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Accounts::User Exists (2.2ms)[0m  [1mSELECT 1 AS one FROM "openstax_accounts_users" WHERE "openstax_accounts_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "openstax_accounts_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", "secret"], ["created_at", Tue, 15 Apr 2014 17:18:08 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Tue, 15 Apr 2014 17:18:08 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/dummy?test=true" for 127.0.0.1 at 2014-04-15 12:18:08 -0500
Processing by Api::DummyController#dummy as */*
  Parameters: {"test"=>"true"}
Completed 200 OK in 0.6ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Accounts::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_accounts_users" WHERE "openstax_accounts_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_accounts_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", "secret"], ["created_at", Tue, 15 Apr 2014 17:18:08 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Tue, 15 Apr 2014 17:18:08 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started POST "/api/application_users" for 127.0.0.1 at 2014-04-15 12:18:08 -0500
Processing by Api::ApplicationUsersController#create as application/vnd.accounts.openstax.v1
Completed 200 OK in 0.6ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Accounts::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_accounts_users" WHERE "openstax_accounts_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "openstax_accounts_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Tue, 15 Apr 2014 17:18:08 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Tue, 15 Apr 2014 17:18:08 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Accounts::Dev::UsersController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Accounts::User Load (0.2ms)[0m  SELECT "openstax_accounts_users".* FROM "openstax_accounts_users" WHERE "openstax_accounts_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 8.2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Accounts::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_accounts_users" WHERE "openstax_accounts_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_accounts_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Tue, 15 Apr 2014 17:18:08 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Tue, 15 Apr 2014 17:18:08 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Accounts::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 0.6ms (ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Accounts::User Exists (0.2ms)[0m  SELECT 1 AS one FROM "openstax_accounts_users" WHERE "openstax_accounts_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "openstax_accounts_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Tue, 15 Apr 2014 17:18:08 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Tue, 15 Apr 2014 17:18:08 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Accounts::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_accounts_users" WHERE "openstax_accounts_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "openstax_accounts_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Tue, 15 Apr 2014 17:18:08 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Tue, 15 Apr 2014 17:18:08 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Accounts::SessionsController#new as HTML
Redirected to http://test.host/accounts/dev/users/login
Completed 302 Found in 0.4ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
Connecting to database specified by database.yml
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mOpenStax::Accounts::User Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "openstax_accounts_users" WHERE "openstax_accounts_users"."username" = 'some_user' LIMIT 1[0m
  [1m[35mSQL (2.0ms)[0m  INSERT INTO "openstax_accounts_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["access_token", nil], ["created_at", Tue, 15 Apr 2014 18:48:43 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Tue, 15 Apr 2014 18:48:43 UTC +00:00], ["username", "some_user"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OpenStax::Accounts::Dev::UsersController#become as HTML
  Parameters: {"user_id"=>"1"}
  [1m[35mOpenStax::Accounts::User Load (0.1ms)[0m  SELECT "openstax_accounts_users".* FROM "openstax_accounts_users" WHERE "openstax_accounts_users"."id" = ? LIMIT 1  [["id", "1"]]
Redirected to http://test.host/
Completed 302 Found in 4.5ms (ActiveRecord: 0.1ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Accounts::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_accounts_users" WHERE "openstax_accounts_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "openstax_accounts_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Tue, 15 Apr 2014 18:48:43 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Tue, 15 Apr 2014 18:48:43 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Accounts::SessionsController#new as HTML
Redirected to http://test.host/accounts/dev/users/login
Completed 302 Found in 0.2ms (ActiveRecord: 0.0ms)
  [1m[36m (3.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Accounts::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_accounts_users" WHERE "openstax_accounts_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "openstax_accounts_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Tue, 15 Apr 2014 18:48:43 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Tue, 15 Apr 2014 18:48:43 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (3.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Accounts::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_accounts_users" WHERE "openstax_accounts_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "openstax_accounts_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", nil], ["created_at", Tue, 15 Apr 2014 18:48:43 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Tue, 15 Apr 2014 18:48:43 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OpenStax::Accounts::SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 0.4ms (ActiveRecord: 0.0ms)
  [1m[36m (3.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Accounts::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_accounts_users" WHERE "openstax_accounts_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "openstax_accounts_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Tue, 15 Apr 2014 18:48:43 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Tue, 15 Apr 2014 18:48:43 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/api/dummy?test=true" for 127.0.0.1 at 2014-04-15 13:48:43 -0500
Processing by Api::DummyController#dummy as */*
  Parameters: {"test"=>"true"}
Completed 200 OK in 0.4ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (3.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mOpenStax::Accounts::User Exists (0.1ms)[0m  SELECT 1 AS one FROM "openstax_accounts_users" WHERE "openstax_accounts_users"."username" = 'some_user' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "openstax_accounts_users" ("access_token", "created_at", "first_name", "full_name", "last_name", "openstax_uid", "title", "updated_at", "username") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["access_token", "secret"], ["created_at", Tue, 15 Apr 2014 18:48:43 UTC +00:00], ["first_name", nil], ["full_name", nil], ["last_name", nil], ["openstax_uid", 1], ["title", nil], ["updated_at", Tue, 15 Apr 2014 18:48:43 UTC +00:00], ["username", "some_user"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started POST "/api/application_users" for 127.0.0.1 at 2014-04-15 13:48:43 -0500
Processing by Api::ApplicationUsersController#create as application/vnd.accounts.openstax.v1
Completed 200 OK in 0.4ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[36m (3.3ms)[0m  [1mrollback transaction[0m
